(this.webpackJsonpReactSocialNetwork=this.webpackJsonpReactSocialNetwork||[]).push([[3],{401:function(e,a,s){e.exports={dialogs:"Dialogs_dialogs__1iKbW",dialogsItems:"Dialogs_dialogsItems__3Q0RQ",item:"Dialogs_item__2DVCQ",activeDialogItem:"Dialogs_activeDialogItem__2-nEP",userName:"Dialogs_userName__91Hcm",messages:"Dialogs_messages__3dwf2",messagesBlock:"Dialogs_messagesBlock__cP_-T",message:"Dialogs_message__1LrPy",myMessage:"Dialogs_myMessage__qugb6",formBlock:"Dialogs_formBlock__n-_qE",form:"Dialogs_form__3pkEW",button:"Dialogs_button__1m-Z1"}},402:function(e,a,s){"use strict";s.r(a);var t=s(23),o=s(0),g=s.n(o),l=s(401),i=s.n(l),m=s(11),n=s(29),c=s.n(n);var r=e=>{let a=e.currentDialog===e.id?"".concat(i.a.item," ").concat(i.a.activeDialogItem):i.a.item;return g.a.createElement(m.b,{to:"/dialogs/"+e.id,className:a},g.a.createElement("img",{src:e.photo||c.a,alt:""}),g.a.createElement("div",{className:i.a.userName},e.name))};var d=e=>{let a=e.isItMe?"".concat(i.a.message," ").concat(i.a.myMessage):i.a.message;return g.a.createElement("div",{className:a},e.message)},u=s(16),_=s(164),b=s(71);Object(b.a)(50);var E=Object(_.a)({form:"dialog-add-message-form"})(e=>g.a.createElement("form",{onSubmit:e.handleSubmit,onKeyDown:a=>((e,a)=>{"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),a())})(a,e.handleSubmit)},g.a.createElement("div",{className:i.a.form},Object(u.c)("Enter your message","newMessageBody",[],u.b,{},{className:"sendMessageArea"}),g.a.createElement("button",{className:i.a.button},"Send")))),D=s(25);var M=e=>{let a=Object(o.useState)(0),s=Object(t.a)(a,2),l=s[0],m=s[1];Object(o.useEffect)(()=>{e.getAllDialogs()},[e.dialogsPage.messages]);let n=e.dialogsPage.dialogs.map(e=>g.a.createElement("span",{onClick:()=>u(e.id)},g.a.createElement(r,{name:e.userName,key:e.id,id:e.id,photo:e.photos.large,currentDialog:l,hasNewMessage:e.hasNewMessages,newMessagesCount:e.newMessagesCount}))),c=e.dialogsPage.messages.map(a=>g.a.createElement(d,{isItMe:e.authorizedUserId===a.senderId,message:a.body,key:a.id}));Object(o.useEffect)(()=>{n=e.dialogsPage.dialogs.map(e=>g.a.createElement("span",{onClick:()=>u(e.id)},g.a.createElement(r,{name:e.userName,key:e.id,id:e.id,photo:e.photos.large,currentDialog:l,hasNewMessage:e.hasNewMessages,newMessagesCount:e.newMessagesCount}))),c=e.dialogsPage.messages.map(a=>g.a.createElement(d,{isItMe:e.authorizedUserId===a.senderId,message:a.body,key:a.id}))},[e.dialogsPage.messages,e.dialogsPage.dialogs]);const u=a=>{e.getMessages(a),m(a)};return g.a.createElement("div",{className:i.a.dialogs},e.isFetching?g.a.createElement(D.a,null):null,g.a.createElement("div",{className:i.a.dialogsItems},n),0!==l&&g.a.createElement("div",{className:i.a.messages},g.a.createElement("div",{className:i.a.messagesBlock},c),g.a.createElement("span",{className:i.a.formBlock},g.a.createElement(E,{onSubmit:a=>{e.sendMessage(l,a.newMessageBody),e.getMessages(l),a.newMessageBody=""}}))))},h=s(60),N=s(10),p=s(88),f=s(8);a.default=Object(f.d)(Object(N.b)(e=>({dialogsPage:e.dialogsPage,authorizedUserId:e.auth.id,isFetching:e.dialogsPage.isFetching}),{getDialogs:h.e,sendMessage:h.d,getAllDialogs:h.b,getMessages:h.c}),p.a)(M)}}]);
//# sourceMappingURL=3.c78ebedf.chunk.js.map
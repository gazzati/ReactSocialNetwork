(this.webpackJsonpReactSocialNetwork=this.webpackJsonpReactSocialNetwork||[]).push([[0],{10:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3qVEo",mainPhoto:"ProfileInfo_mainPhoto__2Jymk",button:"ProfileInfo_button__3nRMG",info_description:"ProfileInfo_info_description__2od1J",form:"ProfileInfo_form__35zYX",info:"ProfileInfo_info__1r8Ls",description:"ProfileInfo_description__1GUTd",contactsEdit:"ProfileInfo_contactsEdit__2K0eB",contactKey:"ProfileInfo_contactKey__zdFv_",contactValue:"ProfileInfo_contactValue__3S9p6",contactsLink:"ProfileInfo_contactsLink__JvaC6",contactsMenu:"ProfileInfo_contactsMenu__1PsEm",contactsMenuName:"ProfileInfo_contactsMenuName__2mjW2",name:"ProfileInfo_name__3zy0Q",status:"ProfileInfo_status__3WJYX",tab:"ProfileInfo_tab__1dA_n",save:"ProfileInfo_save__3ye6s",edit:"ProfileInfo_edit__ccIe6"}},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(20),r=n(21),o=n(23),s=n(22),c=n(34),i=n(0),u=n.n(i),l=n(12),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(i,t);var n=Object(s.a)(i);function i(){return Object(a.a)(this,i),n.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(c.a,{to:"/login"})}}]),i}(u.a.Component);return Object(l.connect)(m)(t)}},144:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(55),r=n(7),o={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrew"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your girlfriend?"},{id:3,message:"See you"},{id:4,message:"I study in MIREA"},{id:5,message:"Where is your car"}]},s=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return Object(r.a)({},e,{messages:[].concat(Object(a.a)(e.messages),[{id:7,message:n}])});default:return e}}},150:function(e,t,n){e.exports=n.p+"static/media/preloader.3ffaf718.svg"},152:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAABHNCSVQICAgIfAhkiAAAA5pJREFUaEPtWktS20AQ7bYNlORFyAlCThBygpgTAAswO+xtSg7kBFFuYIKSLbBDZgGcAHMCzAminCDOwnIZsDo1suTIRv+RkKzKVFF2yTPd/bpbb3p6QCjowILigv/APu48rJfxaZ8Q1hFgDSZ/5iCALhL0EKn7Ta1ex8mCT/XBJhHWLPk1hwyNADQmf0yVsx8Xy70w8gMjJtX1AySSAXE1jEAA0AxC+XtHOAsz35QPcOh0lO86oj4hyooqHvnN8wQm7Q1rSHQSWuGcFiLqGbTU9PIwy4ASPp4g4noYB7jM0QixqZwLXbf1rsBaO8MGlExQfIN5t1TanlduOs0wLiNkgbcdBjaPL4TT+QnPgEm7AxkRv/AhmlvtUJ6Y02ZVfD5Wxbbz0QwwaXewhYiXiYIy2YX6Y1raYF/L+HiTSKSep/620qle2Y+nwA73hmtjw7hLQ+mEOqlvfoYnoWj+JeqXS6X37XNBM9XYq6W6foMATpqNJjgHs9m2o6iimRkmMIsBb3JgG7cJhLjByGoCrADRsj1iRw0Pt2h1vDL8ze2qHAkoj4TXmBoTZgiUiLYZsFNE3M/QjsRVE9EZtnb1LiB8SFx6lgIJblnE7jjqtSzN99TN6lRs1XXKpXWcRhUXmFTXNQR4w+mgXC0ngF/FJY9WXWcV8WauXM5vzDWmdD7iN41HgoFNNI8rRD955ORtbRnxrVUED3oI+C5vBsaxh4DuFbXKOmkAhUpHqw3hPGguPO0zmldU0ex3ToEVIWqsqrf7HjPNnIUuiAlujzvitLUxA4wdOp+WdQ0RX8V5cbNaQ0R/Kg/iWvsKJw0jZyraDxax/2H3OZyOde0ES3W9jQAHWUUgil4COFJUkfX+Z4Z3734BTtbspKx0qg03R/jetuS5beAHyvUdc6I3yWRF7+auKpljwMgRmxJKjtIyKFKerOj14uYhLcOCCkzFeZBZgosCKjIwtiCV+7MAfieir0qnKkfZBgLvoN2EvWhd6XFjGQQyFjArclsAwLrIqZRfrEwCgIbzMi8ITGDlEVaAdUHeTRocA2XQUi3svz7Epns/oEnvdewEXBmJNWdBG9bRiUXMFmRdRbGbe95u13V5JDR4QcViRT/v8WwHUek8KIqxycNLcCzGjMl8fuASBxaFMXmZ78WBMYVBjJkE82UCjCn1YsykmC8zYP/ADWUgmhwIEU8rI0FOgvkyBRbEXmn9ngp5pGVsFLmFBfYXww2rWDXAoPkAAAAASUVORK5CYII="},153:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAcJJREFUaEPt2eFNwzAQBeB3GzACG8AIMAGMUCZgFZgARmgngBHoBDBCNzjkkKAoTZqL43NyzvVPJctq7/O7OJJN2NiHNuaFg0tP3BP2hAtbAW/pwgI943jCnnBhK7DNlmbmKwA3AI5EdCop1K6NmPkWwAeAgA7YJyLal4Bm5kcAby3bfQB/A7juAAP63TKamXc1ts34CmAegJlFD2ArZgC/AHguBX0JC+A1gMOz+1lvWn1uM0mPYI8A7qrXUgloEZbo9P8etoyWYqtnuN3DFtFTsGdga+09FdsLtoKOwQ6C146OxV4ErxU9BzsKXht6LlYEXgs6BVYMXhqdCjsJvBQ6JXYyODc6NTYKnAutgY0Ga6O1sLPAWmhN7GxwarQ2Ngk4FToHNhl4LjoXNik4Fp0Tmxw8FZ0bqwKWosO8nnPjehh/B24KtyBqd0uC46IG1/1Ww6ol3Agi0KpYdbCwvdXbuN1Cai3d/hNB0urJNvVkAY8knQ2bpaV7kg63kg/1+AHATmM3HtoRsyXcgVfXs0T0M1SY1vgiYC2M5HcdLFkly3M8YcvpSWr3hCWrZHmOJ2w5PUntnrBklSzP8YQtpyep/RfNU0bbS1qVmwAAAABJRU5ErkJggg=="},155:function(e,t,n){e.exports=n.p+"static/media/reactIcon.a79469da.png"},181:function(e,t,n){e.exports=n(338)},186:function(e,t,n){},187:function(e,t,n){},25:function(e,t,n){e.exports={item:"Navbar_item__2oMa_",activeItem:"Navbar_activeItem__2F2AQ"}},27:function(e,t,n){e.exports={newsList:"News_newsList__uzBCK",newItem:"News_newItem__2g7vS",img:"News_img__3SnoV",title:"News_title__2rZlS",description:"News_description__1Bq9h",info:"News_info__GeFYl",publish:"News_publish__tBgMZ",date:"News_date__3j13n"}},338:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a,r,o=n(0),s=n.n(o),c=n(79),i=n.n(c),u=(n(186),n(20)),l=n(21),m=n(23),p=n(22),f=(n(187),n(25)),d=n.n(f),g=n(16),h=function(){return s.a.createElement("ul",{className:d.a.nav},s.a.createElement("li",null,s.a.createElement(g.b,{to:"/profile",className:d.a.item,activeClassName:d.a.activeItem},"Profile")),s.a.createElement("li",null,s.a.createElement(g.b,{to:"/dialogs",className:d.a.item,activeClassName:d.a.activeItem},"Messages")),s.a.createElement("li",null,s.a.createElement(g.b,{to:"/users",className:d.a.item,activeClassName:d.a.activeItem},"Users")),s.a.createElement("li",null,s.a.createElement(g.b,{to:"/news",className:d.a.item,activeClassName:d.a.activeItem},"News")),s.a.createElement("li",null,s.a.createElement(g.b,{to:"/settings",className:d.a.item,activeClassName:d.a.activeItem},"Settings")))},E=n(34),_=n(12),v=n(5),b=n.n(v),w=n(15),N=n(55),S=n(7),O=n(106),A=n.n(O),P=A.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c7670d27-1643-46ec-bb96-bd2e37e02a3e"}}),y={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return P.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unFollow:function(e){return P.delete("follow/".concat(e))},Follow:function(e){return P.post("follow/".concat(e))},getProfile:function(e){return C.getProfile(e)}},C={getProfile:function(e){return P.get("profile/"+e)},getStatus:function(e){return P.get("profile/status/"+e)},updateStatus:function(e){return P.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),P.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return P.put("profile",e)}};!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}));var k=function(){return P.get("auth/me").then((function(e){return e.data}))},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return P.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},j=function(){return P.delete("auth/login")},T=function(){return P.get("security/get-captcha-url")},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return A.a.get("https://newsapi.org/v2/top-headlines?"+"country=ru&apiKey=3d368681f4414a9fb4ffa48ef6d52ea6&pageSize=".concat(t,"&page=").concat(e)).then((function(e){return e.data}))},F=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(S.a)({},e,{},a):e}))},L={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},x=function(e){return{type:"FOLLOW",userId:e}},B=function(e){return{type:"UNFOLLOW",userId:e}},R=function(e){return{type:"SET_USERS",users:e}},M=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},z=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},D=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},G=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},W=function(){var e=Object(w.a)(b.a.mark((function e(t,n,a,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(G(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(S.a)({},e,{users:F(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(S.a)({},e,{users:F(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(S.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(S.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(S.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(S.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(S.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(N.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},K=n(47),H=n(39),J=n.n(H),V=n(38),Y=n.n(V),Q=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,r=e.follow;return s.a.createElement("div",{className:J.a.user},s.a.createElement("div",null,s.a.createElement(g.b,{to:"profile/"+t.id},s.a.createElement("img",{src:null!=t.photos.small?t.photos.small:Y.a,className:J.a.photo,alt:""}))),s.a.createElement("div",{className:J.a.fol},t.followed?s.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),className:J.a.unfollow,onClick:function(){a(t.id)}},"Unfollow"):s.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),className:J.a.follow,onClick:function(){r(t.id)}},"Follow")),s.a.createElement("div",{className:J.a.descriptionUser},s.a.createElement("div",{className:J.a.name},t.name),s.a.createElement("div",null,t.status)))},Z=n(52),q=n(33),$=n(56),ee=n.n($),te=n(67),ne=n.n(te),ae=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,u=Math.ceil(t/n),l=[],m=1;m<=u;m++)l.push(m);var p=Math.ceil(u/i),f=Object(o.useState)(1),d=Object(q.a)(f,2),g=d[0],h=d[1],E=(g-1)*i+1,_=g*i;return s.a.createElement("div",{className:ne()(ee.a.paginator)},g>1&&s.a.createElement("button",{className:ee.a.button,onClick:function(){h(g-1)}},"PREV"),l.filter((function(e){return e>=E&&e<=_})).map((function(e){return s.a.createElement("div",{className:ne()(Object(Z.a)({},ee.a.selectedPage,a===e),ee.a.pageNumber),key:e,onClick:function(t){r(e)}},e)})),p>g&&s.a.createElement("button",{className:ee.a.button,onClick:function(){h(g+1)}},"NEXT"))},re=n(150),oe=n.n(re),se=function(e){return s.a.createElement("span",{className:"preloader"},s.a.createElement("img",{src:oe.a,alt:""}))},ce=function(e){var t=e.currentPage,n=e.totalUsersCount,a=e.pageSize,r=e.onPageChanged,o=e.users,c=e.isFetching,i=Object(K.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users","isFetching"]);return s.a.createElement("div",null,c?null:s.a.createElement(ae,{currentPage:t,onPageChanged:r,totalItemsCount:n,pageSize:a}),c?s.a.createElement(se,null):null,s.a.createElement("div",null,o.map((function(e){return s.a.createElement(Q,{user:e,followingInProgress:i.followingInProgress,unfollow:i.unfollow,follow:i.follow,key:e.id})}))))},ie=n(6),ue=n(151),le=Object(ue.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),me=function(e){return e.usersPage.pageSize},pe=function(e){return e.usersPage.totalUsersCount},fe=function(e){return e.usersPage.currentPage},de=function(e){return e.usersPage.isFetching},ge=function(e){return e.usersPage.followingInProgress},he=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ce,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress,isFetching:this.props.isFetching}))}}]),n}(s.a.Component),Ee=Object(ie.compose)(Object(_.connect)((function(e){return{users:le(e),pageSize:me(e),totalUsersCount:pe(e),currentPage:fe(e),isFetching:de(e),followingInProgress:ge(e)}}),{follow:function(e){return function(){var t=Object(w.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,y.Follow.bind(y),x);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(w.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,y.unFollow.bind(y),B);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(w.a)(b.a.mark((function n(a,r){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(D(!0)),a(M(e)),n.next=4,y.getUsers(e,t);case 4:o=n.sent,a(D(!1)),a(R(o.items)),a(z(o.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}))(he),_e=n(10),ve=n.n(_e),be=function(e){var t=Object(o.useState)(!1),n=Object(q.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(e.status),i=Object(q.a)(c,2),u=i[0],l=i[1];Object(o.useEffect)((function(){l(e.status)}),[e.status]);return s.a.createElement("div",null,!a&&s.a.createElement("div",null,s.a.createElement("span",{className:ve.a.status,onDoubleClick:function(){r(!0)}},e.status||"----")),a&&s.a.createElement("div",null,s.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(u)},value:u})))},we=n(46),Ne=n.n(we),Se=n(145),Oe=function(e){var t=e.meta,n=t.touched,a=t.error,r=e.children,o=n&&a;return s.a.createElement("div",{className:Ne.a.formControl+" "+(o?Ne.a.error:"")},s.a.createElement("div",null,r),o&&s.a.createElement("span",null,a))},Ae=function(e){var t=e.input,n=(e.meta,Object(K.a)(e,["input","meta"]));return s.a.createElement(Oe,e,s.a.createElement("textarea",Object.assign({},t,n)))},Pe=function(e){var t=e.input,n=(e.meta,Object(K.a)(e,["input","meta"]));return s.a.createElement(Oe,e,s.a.createElement("input",Object.assign({},t,n)))};function ye(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=(arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]?arguments[6]:"");return s.a.createElement("span",null,s.a.createElement(Se.a,Object.assign({placeholder:e,name:t,validate:n,component:a},r))," ",o)}var Ce,ke=n(146),Ie=Object(ke.a)({form:"edit-profile"})((function(e){var t=e.profile,n=e.handleSubmit,a=e.error,r=e.status,o=e.updateStatus;return s.a.createElement("form",{className:ve.a.form,onSubmit:n},s.a.createElement("span",{className:ve.a.info},s.a.createElement("div",{className:ve.a.name},ye("Full name","fullName",[],Pe)),s.a.createElement(be,{status:r,updateStatus:o}),s.a.createElement("div",null,s.a.createElement("div",null,"About me:"),ye("About me","aboutMe",[],Ae)),s.a.createElement("div",null,s.a.createElement("div",null,"Looking for a job:")," ",ye("","lookingForAJob",[],Pe,{type:"checkbox"})),s.a.createElement("div",null,s.a.createElement("div",null,"My professional skills:"),ye("My professional skills","lookingForAJobDescription",[],Ae)),s.a.createElement("div",null,s.a.createElement("button",{className:ve.a.save},"save")),a&&s.a.createElement("div",{className:Ne.a.formSummaryError},a)),s.a.createElement("div",{className:ve.a.contacts},"My contacts: ",Object.keys(t.contacts).map((function(e){return s.a.createElement("div",{key:e},s.a.createElement("div",{className:ve.a.contactsEdit},s.a.createElement("div",{className:ve.a.contactKey},e,":"),s.a.createElement("div",{className:ve.a.contactValue},ye("http://"+e+".com","contacts."+e,[],Pe))))}))))})),je=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode,r=e.status,o=e.updateStatus;return s.a.createElement("div",{className:ve.a.form},s.a.createElement("div",{className:ve.a.info},s.a.createElement("div",{className:ve.a.name},t.fullName),s.a.createElement(be,{status:r,updateStatus:o}),s.a.createElement("span",{className:ve.a.contacts},s.a.createElement("div",{className:ve.a.contactsMenuName,onClick:function(){var e=document.getElementById("contacts").style.display;document.getElementById("contacts").style.display="none"===e?"block":"none"}},"\u2022My contacts"),s.a.createElement("div",{id:"contacts",className:ve.a.contactsMenu},Object.keys(t.contacts).map((function(e){return s.a.createElement(Te,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))),s.a.createElement("div",{className:ve.a.description},s.a.createElement("div",null,s.a.createElement("div",null,"\u2022About me:"),s.a.createElement("span",{className:ve.a.tab},t.aboutMe)),s.a.createElement("div",null,s.a.createElement("span",null,"\u2022Looking for a job:")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&s.a.createElement("div",null,s.a.createElement("div",null,"\u2022My professional skills:"),s.a.createElement("span",{className:ve.a.tab},t.lookingForAJobDescription)),n&&s.a.createElement("div",null,s.a.createElement("button",{className:ve.a.edit,onClick:a},"Edit info"))))},Te=function(e){var t=e.contactTitle,n=e.contactValue;return n?s.a.createElement("div",null,t,": ",s.a.createElement("a",{className:ve.a.contactsLink,href:n},n)):null},Ue=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.isOwner,c=e.savePhoto,i=e.saveProfile,u=Object(o.useState)(!1),l=Object(q.a)(u,2),m=l[0],p=l[1];return s.a.createElement("div",{className:ve.a.descriptionBlock},s.a.createElement("div",null,r&&s.a.createElement("input",{id:"upl",type:"file",className:ve.a.button,onChange:function(e){e.target.files.length&&c(e.target.files[0])}}),s.a.createElement("label",{htmlFor:"upl"},s.a.createElement("img",{src:t.photos.large||Y.a,className:ve.a.mainPhoto,alt:""}))),s.a.createElement("div",{className:ve.a.info_description},m?s.a.createElement(Ie,{initialValues:t,profile:t,onSubmit:function(e){i(e).then((function(){return p(!1)}))},status:n,updateStatus:a}):s.a.createElement(je,{goToEditMode:function(){p(!0)},profile:t,isOwner:r,status:n,updateStatus:a})))},Fe=n(57),Le=n.n(Fe),xe=n(58),Be=n.n(xe),Re=n(152),Me=n.n(Re),ze=function(e){return s.a.createElement("div",{className:Be.a.item},s.a.createElement("img",{className:Be.a.img,src:Y.a,alt:""}),s.a.createElement("div",{className:Be.a.mes},e.message),s.a.createElement("span",{className:Be.a.likes,onClick:function(){e.addLikes(e.id)}},s.a.createElement("span",{className:Be.a.count},e.likesCount+" "),s.a.createElement("img",{src:Me.a,alt:""})))},De=n(137),Ge=n.n(De),We=n(141),Xe=function(e){if(!e)return"Field is required"},Ke=(Ce=50,function(e){if(e.length>Ce)return"Max length is ".concat(Ce," symbols")}),He=n.n(We)()({form:"profileAddPostForm"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit,onKeyDown:function(t){return function(e,t){"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),t())}(t,e.handleSubmit)}},s.a.createElement("div",{className:Le.a.form},s.a.createElement(Ge.a,{className:Le.a.area,component:Ae,name:"newPostText",placeholder:"Enter your post",validate:[Xe,Ke]}),s.a.createElement("button",{className:Le.a.button},"Add post")))})),Je=s.a.memo((function(e){var t=e.posts.sort((function(e,t){return e.id<t.id?1:-1})).map((function(t){return s.a.createElement(ze,{message:t.message,likesCount:t.likesCount,key:t.id,id:t.id,profile:e.profile,addLikes:e.addLikes})}));return s.a.createElement("div",{className:Le.a.postsBlock},s.a.createElement("h3",null,"My posts"),s.a.createElement(He,{onSubmit:function(t){e.addPost(t.newPostText),t.newPostText=" "}}),s.a.createElement("div",{className:Le.a.posts},t))})),Ve=n(37),Ye={posts:[{id:1,message:"It is my first post",likesCount:12},{id:2,message:"It is my website",likesCount:1},{id:3,message:"Hi, how are you?",likesCount:21},{id:4,message:"I want to become a developer",likesCount:11},{id:5,message:"Say me about you",likesCount:1}],profile:null,status:""},Qe=function(e){return{type:"SET_STATUS",status:e}},Ze=function(e){return function(){var t=Object(w.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:Date.now(),message:t.newPostText,likesCount:0};return Object(S.a)({},e,{posts:[].concat(Object(N.a)(e.posts),[n])});case"SET_STATUS":return Object(S.a)({},e,{status:t.status});case"SET_USER_PROFILE":return Object(S.a)({},e,{profile:t.profile});case"SAVE_PHOTO_SUCCESS":return Object(S.a)({},e,{profile:Object(S.a)({},e.profile,{photos:t.photos})});case"DELETE_POST":return Object(S.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"ADD_LIKES":return Object(S.a)({},e,{posts:e.posts.map((function(e){return e.id===t.postId?Object(S.a)({},e,{likesCount:e.likesCount+1}):e}))});default:return e}},$e=Object(_.connect)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))},addLikes:function(t){e({type:"ADD_LIKES",postId:t})}}}))(Je),et=function(e){return e.profile?s.a.createElement("div",null,s.a.createElement(Ue,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),s.a.createElement($e,null)):s.a.createElement(se,null)},tt=n(143),nt=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(et,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})))}}]),n}(s.a.Component),at=Object(ie.compose)(Object(_.connect)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:Ze,getStatus:function(e){return function(){var t=Object(w.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getStatus(e);case 2:a=t.sent,n(Qe(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(w.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(Qe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(w.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.savePhoto(e);case 2:a=t.sent,n({type:"SAVE_PHOTO_SUCCESS",photos:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(w.a)(b.a.mark((function t(n,a){var r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,C.saveProfile(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=8;break}n(Ze(r)),t.next=10;break;case 8:return n(Object(Ve.a)("edit-profile",{_error:o.data.messages[0]})),t.abrupt("return",Promise.reject(o.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),E.g,tt.a)(nt),rt=n(48),ot=n.n(rt),st=n(153),ct=n.n(st),it=function(e){return s.a.createElement("div",{className:ot.a.userBlock},s.a.createElement(E.a,{to:"/login"}),e.isAuth?s.a.createElement("span",{className:ot.a.isAuthUserBlock},s.a.createElement("span",{className:ot.a.userLogName},e.profile&&e.profile.fullName),s.a.createElement("img",{className:ot.a.userPhoto,src:e.profile?e.profile.photos.large:Y.a,alt:""}),s.a.createElement("img",{className:ot.a.function,src:ct.a,alt:"",onClick:function(){}})):s.a.createElement(g.b,{to:"/login",className:ot.a.login},"Log in"))},ut={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},lt=function(e,t,n,a){return{type:"auth/SET_USER_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},mt=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},pt=function(){return function(){var e=Object(w.a)(b.a.mark((function e(t){var n,r,o,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:(n=e.sent).resultCode===a.Success&&(r=n.data,o=r.id,s=r.email,c=r.login,t(lt(o,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ft=function(){return function(){var e=Object(w.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:n=e.sent,a=n.data.url,t(mt(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":case"GET_CAPTCHA_URL_SUCCESS":return Object(S.a)({},e,{},t.payload);default:return e}},gt=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return s.a.createElement(it,this.props)}}]),n}(s.a.Component),ht=Object(_.connect)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.profilePage.profile}}),{logout:function(){return function(){var e=Object(w.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:0===e.sent.data.resultCode&&t(lt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(gt),Et=n(59),_t=n.n(Et),vt=Object(ke.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return s.a.createElement("form",{onSubmit:t,onKeyDown:function(e){return function(e,t){"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),t())}(e,t)}},ye("Email","email",[Xe],Pe),ye("Password","password",[Xe],Pe,{type:"password"}),s.a.createElement("div",{className:_t.a.s1},s.a.createElement("div",{className:_t.a.s2},ye(void 0,"rememberMe",[],Pe,{type:"checkbox"})),s.a.createElement("div",{className:_t.a.s3},"remember me")),a&&s.a.createElement("img",{src:a,alt:""}),a&&ye("Symbols from image","captcha",[Xe],Pe,{}),n&&s.a.createElement("div",{className:Ne.a.formSummaryError},n),s.a.createElement("div",null,s.a.createElement("button",{className:_t.a.button},"Log In")))})),bt=Object(_.connect)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,o){return function(){var s=Object(w.a)(b.a.mark((function s(c){var i,u;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,I(e,t,n,o);case 2:(i=s.sent).resultCode===a.Success?c(pt()):(i.resultCode===r.CaptchaIsRequired&&c(ft()),u=i.messages.length>0?i.messages[0]:"Some error",c(Object(Ve.a)("login",{_error:u})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return e.isAuth?s.a.createElement(E.a,{to:"/profile"}):s.a.createElement("div",{className:_t.a.login},s.a.createElement("h2",null,"LOG IN"),s.a.createElement(vt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),wt={initialized:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(S.a)({},e,{initialized:!0});default:return e}},St=n(144),Ot={},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;arguments.length>1&&arguments[1];return e},Pt=n(154),yt=n(147),Ct={news:[],isFetching:!0,pageSize:10,totalNewsCount:0,currentPage:1},kt=function(e){return{type:"SET_NEWS",news:e}},It=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},jt=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Tt=function(e){return{type:"SET_TOTAL_NEWS_COUNT",count:e}},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEWS":return Object(S.a)({},e,{news:t.news});case"SET_CURRENT_PAGE":return Object(S.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_NEWS_COUNT":return Object(S.a)({},e,{totalNewsCount:t.count});case"TOGGLE_IS_FETCHING":return Object(S.a)({},e,{isFetching:t.isFetching});default:return e}},Ft=Object(ie.combineReducers)({profilePage:qe,dialogsPage:St.a,sidebar:At,usersPage:X,auth:dt,form:yt.a,app:Nt,news:Ut}),Lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.compose,xt=Object(ie.createStore)(Ft,Lt(Object(ie.applyMiddleware)(Pt.a)));window.__store__=xt;var Bt=xt,Rt=n(68),Mt=n.n(Rt),zt=function(e){var t=Object(o.useState)("true"===localStorage.getItem("blackThemeButton")),n=Object(q.a)(t,2),a=n[0],r=n[1];return s.a.createElement("div",{className:Mt.a.settings},s.a.createElement("span",{className:Mt.a.label},"Night theme"),s.a.createElement("span",{onClick:function(){a?(r(!a),localStorage.setItem("blackThemeButton",String(!a)),document.getElementById("body").style.backgroundColor="#f6f6fa",document.getElementById("wrapper").style.backgroundColor="white"):(r(!a),localStorage.setItem("blackThemeButton",String(!a)),document.getElementById("body").style.backgroundColor="#72879c",document.getElementById("wrapper").style.backgroundColor="#586775")},className:ne()(Object(Z.a)({},Mt.a.switchOn,a),Mt.a.button)}))},Dt=n(27),Gt=n.n(Dt),Wt=function(e){var t=e.newsItem;return s.a.createElement("div",{className:Gt.a.newItem},s.a.createElement("a",{href:t.url,target:"_blank",className:Gt.a.title},s.a.createElement("b",null,t.title)),s.a.createElement("p",{className:Gt.a.description},t.description),s.a.createElement("a",{href:t.url,target:"_blank",className:Gt.a.img},t.urlToImage&&s.a.createElement("img",{src:t.urlToImage,alt:""})),s.a.createElement("div",{className:Gt.a.info},s.a.createElement("a",{href:t.url,className:Gt.a.publish,target:"_blank"},s.a.createElement("b",null,t.source.name)),s.a.createElement("div",{className:Gt.a.date},t.publishedAt)))},Xt=function(e){for(var t=e.currentPage,n=e.totalNewsCount,a=e.pageSize,r=e.onPageChanged,o=e.news,c=e.isFetching,i=(Object(K.a)(e,["currentPage","totalNewsCount","pageSize","onPageChanged","news","isFetching"]),0);i<n;i++);return s.a.createElement("div",{className:Gt.a.news},c?null:s.a.createElement(ae,{currentPage:t,onPageChanged:r,totalItemsCount:n,pageSize:a}),c?s.a.createElement(se,null):null,s.a.createElement("div",{className:Gt.a.newsList},o.map((function(e){return s.a.createElement(Wt,{key:e.publishedAt.toString(),newsItem:e})}))))},Kt=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getNews(t,n)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getNews(t,n)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Xt,{onPageChanged:this.onPageChanged,news:this.props.news,isFetching:this.props.isFetching,totalNewsCount:this.props.totalNewsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage}))}}]),n}(s.a.Component),Ht=Object(ie.compose)(Object(_.connect)((function(e){return{news:e.news.news,isFetching:e.news.isFetching,pageSize:e.news.pageSize,totalNewsCount:e.news.totalNewsCount,currentPage:e.news.currentPage}}),{getNews:function(e,t){return function(){var n=Object(w.a)(b.a.mark((function n(a,r){var o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(It(!0)),a(jt(e)),n.next=4,U(e,t);case 4:o=n.sent,a(It(!1)),a(Tt(o.totalResults)),a(kt(o.articles));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}))(Kt),Jt=n(85),Vt=n.n(Jt),Yt=n(155),Qt=n.n(Yt),Zt=function(){return s.a.createElement("div",{className:Vt.a.mainIcon},s.a.createElement(g.b,{to:"/profile/"},s.a.createElement("img",{src:Qt.a,alt:"",className:Vt.a.logo})),s.a.createElement("p",{className:Vt.a.title},"GAZZATI ",s.a.createElement("br",null)," SOCIAL NETWORK"))},qt=s.a.lazy((function(){return n.e(3).then(n.bind(null,341))})),$t=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return s.a.createElement("div",{className:"mainPage"},s.a.createElement("span",{className:"icon"},s.a.createElement(Zt,null)),s.a.createElement("div",{className:"head"}," "),s.a.createElement("span",{className:"userLog"},s.a.createElement(ht,null)),s.a.createElement("div",{className:"nav"},s.a.createElement(h,null)),s.a.createElement("div",{id:"wrapper",className:"appWrapperContent"},s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/dialogs",render:(e=qt,function(t){return s.a.createElement(s.a.Suspense,{fallback:s.a.createElement("div",{style:{margin:"10px"}},"Loading...")},s.a.createElement(e,t))})}),s.a.createElement(E.b,{path:"/profile/:userId?",render:function(){return s.a.createElement(at,null)}}),s.a.createElement(E.b,{path:"/users",render:function(){return s.a.createElement(Ee,null)}}),s.a.createElement(E.b,{exact:!0,path:"/login",render:function(){return s.a.createElement(bt,null)}}),s.a.createElement(E.b,{exact:!0,path:"/settings",render:function(){return s.a.createElement(zt,null)}}),s.a.createElement(E.b,{path:"/news",render:function(){return s.a.createElement(Ht,null)}}),s.a.createElement(E.b,{path:"*",render:function(){return s.a.createElement(Ht,null)}}))));var e}}]),n}(s.a.Component);setTimeout((function(){"true"===localStorage.getItem("blackThemeButton")&&(document.getElementById("body").style.backgroundColor="#72879c",document.getElementById("wrapper").style.backgroundColor="#586775")}),500);var en=Object(ie.compose)(E.g,Object(_.connect)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(pt()).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))($t),tn=function(e){return s.a.createElement(g.a,null,s.a.createElement(_.Provider,{store:Bt},s.a.createElement(en,null)))};i.a.render(s.a.createElement(tn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},38:function(e,t,n){e.exports=n.p+"static/media/user.fbe89cad.png"},39:function(e,t,n){e.exports={user:"Users_user__2qA9G",pag:"Users_pag__1FzXM",photo:"Users_photo__3muwv",fol:"Users_fol__1f0qC",descriptionUser:"Users_descriptionUser__KHpi2",name:"Users_name__21Ohc",follow:"Users_follow__3Oihd",unfollow:"Users_unfollow__3w5bA"}},46:function(e,t,n){e.exports={formControl:"FormsControls_formControl__KJHG6",error:"FormsControls_error__2iS7F",formSummaryError:"FormsControls_formSummaryError__2Z5fj"}},48:function(e,t,n){e.exports={userBlock:"Header_userBlock__2a3Ko",isAuthUserBlock:"Header_isAuthUserBlock__f_8Co",userLogName:"Header_userLogName__2rJHj",userPhoto:"Header_userPhoto__3RST-",function:"Header_function__e7_1C",login:"Header_login__2ZaXp"}},56:function(e,t,n){e.exports={paginator:"Paginator_paginator__sV1Wk",pageNumber:"Paginator_pageNumber__2hAk5",selectedPage:"Paginator_selectedPage__to5Hh",button:"Paginator_button__28PL3"}},57:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__PVv8X",posts:"MyPosts_posts__1_mZ_",form:"MyPosts_form__3OboW",area:"MyPosts_area__lk7I7",button:"MyPosts_button__1Fkxg"}},58:function(e,t,n){e.exports={item:"Post_item__FKWLk",img:"Post_img__21o-o",mes:"Post_mes__td-LE",likes:"Post_likes__LVZOU",count:"Post_count__vNeRN"}},59:function(e,t,n){e.exports={login:"Login_login__1mx91",button:"Login_button__y-y6T",s1:"Login_s1__1Mhuj",s2:"Login_s2__13kQf",s3:"Login_s3__A7rbK"}},68:function(e,t,n){e.exports={settings:"Settings_settings__yplet",button:"Settings_button__2fj6E",switchOn:"Settings_switchOn__1Q9dc",label:"Settings_label__3_dls"}},85:function(e,t,n){e.exports={mainIcon:"MainIcon_mainIcon__1zK8t",logo:"MainIcon_logo__2tUpy",title:"MainIcon_title__3w2Yu"}}},[[181,1,2]]]);
//# sourceMappingURL=main.a0d68a78.chunk.js.map